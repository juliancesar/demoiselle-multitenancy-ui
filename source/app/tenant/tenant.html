<div class="content">
    <div class="row">
        <h1>Tenants</h1>
    </div>
    <div class="row">
        <div class="col-md-5">
            <table class="table table-condensed">
                <thead>
                    <tr>
                        <th>#</th>
                        <th width="100%">Nome</th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="(key, value) in tenants">
                        <th scope="row">{{value.id}}</th>
                        <td>
                            {{value.name}}
                            <span class="label label-info" ng-show="selectedTenant.id == value.id">Selecionado</span>
                        </td>
                        <td>
                            <button type="button" ng-click="select(value)" class="btn btn-warning btn-xs">Selecionar</button>
                        </td>
                        <td>
                            <button type="button" confirm-click="deleteTenant(value)" confirm-click-message="Você tem certeza que deseja excluir o Tenant? ATENÇÃO: Esta operação não tem volta!"
                                class="btn btn-danger btn-xs">Excluir</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="col-md-7">
            <form novalidate name="form">
                <div class="form-group">
                    <label for="name">Nome do Tenant</label>
                    <input type="text" pattern="^[A-Za-z]{1,}[A-Za-z0-9]{2,50}" required ng-model="tenant.name" class="form-control" id="name"
                        name="name" placeholder="Nome">
                    <div ng-show="form.$submitted || form.name.$touched" class="text-danger padding form-group">
                        <span ng-show="form.name.$error.required">O campo do Nome do Tenant é obrigatório.</span>
                        <span ng-show="form.name.$error.pattern">Forneça um Nome válido. Somente são aceitas letras e números sem espaços e deve conter no mínimo 3 caracteres e no máximo 50.</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="name">Script Executado na Criação do Usuário</label>
                    <textarea class="form-control" rows="10" ng-model="tenant.scriptCreateUser" id="scriptCreateUser" name="scriptCreateUser"
                        placeholder="Script"></textarea>
                        
                     <p class="help-block">A variável do usuário é <b>user</b> e do tenant é <b>tenant</b>.</p>
                </div>

                <button type="button" ng-click="create(form, tenant)" class="btn btn-success">Criar Tenant</button>
            </form>
        </div>
    </div>
</div>